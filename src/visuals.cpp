#include "../headers/visuals.h"
#include <string>
#include <chrono>
#include <cstdlib>
#include <thread>

void visuals::visualizeBoard(ostream& out)
{
    //displays the board and shows the user's chips
    out << "\033[40;37m+-------+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-------+\033[0m\n";
    out << "\033[40;37m|\033[42;37m  00   \033[40;37m|\033[41;37m  3  \033[40;37m|  6  \033[40;37m|\033[41;37m  9  \033[40;37m|\033[41;37m  12 \033[40;37m|\033[40;37m  15 \033[40;37m|\033[41;37m  18 \033[40;37m|\033[41;37m  21 \033[40;37m|  24 |\033[41;37m  27 \033[40;37m|\033[41;37m  30 \033[40;37m|\033[40;37m  33 \033[40;37m|\033[41;37m  36 \033[40;37m|\033[40;33m Row 3 \033[40;37m|\033[0m\n";
    out << "\033[40;37m|       |-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-------+\033[0m\n";
    out << "\033[40;37m+-------|\033[40;37m  2  |\033[41;37m  5  \033[40;37m|  8  \033[40;37m|\033[40;37m  11 \033[40;37m|\033[41;37m  14 \033[40;37m|\033[40;37m  17 \033[40;37m|  20 |\033[41;37m  23 \033[40;37m|  26 |\033[40;37m  29 \033[40;37m|\033[41;37m  32 \033[40;37m|  35 \033[40;37m|\033[40;33m Row 2 \033[40;37m|\033[0m\n";
    out << "\033[40;37m|       |-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-------+\033[0m\n";
    out << "\033[40;37m|\033[42;37m  0    \033[40;37m|\033[41;37m  1  \033[40;37m|  4  |\033[41;37m  7  \033[40;37m|  10 |\033[40;37m  13 \033[40;37m|\033[41;37m  16 \033[40;37m|\033[41;37m  19 \033[40;37m|  22 |\033[41;37m  25 \033[40;37m|  28 |\033[40;37m  31 \033[40;37m|\033[41;37m  34 \033[40;37m|\033[40;33m Row 1 \033[40;37m|\033[0m\n";
    out << "\033[40;37m+-------+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-------+\033[0m\n";
    out << "        \033[40;37m|\033[40;33m         1st 12        \033[40;37m|\033[40;33m         2nd 12        \033[40;37m|\033[40;33m         3rd 12        \033[40;37m|\033[0m\n";
    out << "        \033[40;37m+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\033[0m\n";    
    out << "        \033[40;37m|\033[40;33m          EVEN         \033[40;37m|\033[40;33m       (01 - 18)       \033[40;37m|\033[41;37m          RED          \033[40;37m|\033[0m\n";
    out << "        \033[40;37m+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\033[0m\n";
    out << "        \033[40;37m|\033[40;33m          ODD          \033[40;37m|\033[40;33m       (19 - 36)       \033[40;37m|\033[40;37m         BLACK         |\033[0m\n";
    out << "        \033[40;37m+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\033[0m\n";
    out << "\nChips:\n";
}

void visuals::visualizeWheel(ostream& out)
{
    string frame1 = "            ****************\n"
        "        *  *                  *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame2 = "            ****************\n"
        "        *     *               *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame3 = "            ****************\n"
        "        *        *            *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame4 ="            ****************\n"
        "        *           *         *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame5 = "            ****************\n"
        "        *               *     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame6 = "            ****************\n"
        "        *                  *  *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";

string frame7 = "            ****************\n"
        "        *                     *\n"
        "     *                       *   *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame8 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                           *   *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame9 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                               *   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame10 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                  *  *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame11 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                  *  *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame12 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                  *  *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame13 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                  *  *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame14 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                *  *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame15 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                             *  *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame16 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                         * *\n"
        "        *                     *\n"
        "            ****************\n";
string frame17 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                  *  *\n"
        "            ****************\n";
string frame18 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *               *     *\n"
        "            ****************\n";
string frame19 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *            *        *\n"
        "            ****************\n";
string frame20 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *         *           *\n"
        "            ****************\n";
string frame21 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *      *              *\n"
        "            ****************\n";
string frame22 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *   *                 *\n"
        "            ****************\n";
string frame23 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *  *                        *\n"
        "        *                     *\n"
        "            ****************\n";
string frame24 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *  *                             *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame25 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *  *                                *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame26 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*  *                                  *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame27 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*  *                                  *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame28 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*  *                                  *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame29 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*  *                                  *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame30 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*  *                                  *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame31 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *                               *\n"
        " *   *                               *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame32 = "            ****************\n"
        "        *                     *\n"
        "     *                           *\n"
        "   *   *                           *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";
string frame33 = "            ****************\n"
        "        *                     *\n"
        "     *   *                       *\n"
        "   *                               *\n"
        " *                                   *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        "*                                     *\n"
        " *                                   *\n"
        "   *                                *\n"
        "     *                           *\n"
        "        *                     *\n"
        "            ****************\n";

    const string spinChars[] = {frame1, frame2, frame3, frame4, frame5, frame6, frame7, frame8, frame9, frame10, frame11, frame12, frame13, frame14, frame15, frame16, frame17, frame18, frame19, frame20, frame21, frame22, frame23, frame24, frame25, frame26, frame27, frame28, frame29, frame30, frame31, frame32, frame33};
    int spinIndex = 0;

    srand(time(0));
    int timeSpin = ((rand() % 51) + 50);

    for (int i = 0; i < timeSpin; ++i) {
        out << "\033[2J\033[H" << endl;
        out << "\r" << spinChars[spinIndex] << flush;  // Move cursor back to the beginning and print the next character, makes the animation smooth
        this_thread::sleep_for(chrono::milliseconds(90));  // time delay

        // Update the spin index
        spinIndex = (spinIndex + 1) % 33;  
    }
}
